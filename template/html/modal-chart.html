<!-- Chart Expand Modal -->
<div class="modal-overlay" id="chartExpandModal">
    <div class="modal-container modal-full">
        <div class="modal-header">
            <div class="modal-header-left">
                <h2 class="modal-title" id="chartExpandTitle">Chart Title</h2>
                <p class="modal-subtitle" id="chartExpandSubtitle">Chart subtitle</p>
            </div>
            <div class="modal-header-right">
                <button class="modal-btn" id="chartExpandTableToggle">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 21V9"/>
                    </svg>
                    Data Table
                </button>
                <button class="modal-btn" id="chartExpandExport">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                    </svg>
                    Export PNG
                </button>
                <button class="modal-btn primary" id="chartExpandDrill">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/>
                    </svg>
                    View Data
                </button>
                <button class="modal-close" aria-label="Close">&#10005;</button>
            </div>
        </div>
        <div class="chart-modal-controls" id="chartExpandControls">
            <div class="chart-modal-info" id="chartExpandInfo">
                <!-- Dynamic stats will be injected here -->
            </div>
            <div class="chart-modal-actions" id="chartExpandActions">
                <!-- Dynamic action buttons will be injected here -->
            </div>
        </div>
        <div class="modal-body no-padding">
            <div class="expanded-chart-wrapper">
                <div class="expanded-chart-container">
                    <canvas id="expandedChart"></canvas>
                </div>
            </div>
            <div class="chart-data-table-wrapper" id="chartDataTableWrapper">
                <table class="chart-data-table" id="chartDataTable">
                    <thead id="chartDataTableHead"></thead>
                    <tbody id="chartDataTableBody"></tbody>
                </table>
            </div>
        </div>
    </div>
</div>
