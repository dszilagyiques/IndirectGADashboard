<!-- Compact Global Filters -->
<section class="compact-filters" id="globalFilters">
    <div class="filter-row">
        <div class="filter-chip date-filter">
            <label>Date</label>
            <input type="date" class="chip-input" id="startDate">
            <span class="chip-sep">-</span>
            <input type="date" class="chip-input" id="endDate">
        </div>
        <div class="date-presets" id="datePresets">
            <button class="preset-btn" data-preset="ytd" title="Year to Date">YTD</button>
            <button class="preset-btn" data-preset="qtd" title="Quarter to Date">QTD</button>
            <button class="preset-btn" data-preset="mtd" title="Month to Date">MTD</button>
            <button class="preset-btn" data-preset="l12m" title="Last 12 Months">L12M</button>
            <button class="preset-btn" data-preset="l30d" title="Last 30 Days">L30D</button>
        </div>
        <div class="filter-sep"></div>
        <div class="filter-chip">
            <label>Type</label>
            <div class="pill-toggle" id="jobTypeToggle">
                <button class="pill-btn active" data-value="all">All</button>
                <button class="pill-btn" data-value="GA">G&A</button>
                <button class="pill-btn" data-value="IN">Indirect</button>
            </div>
        </div>
        <div class="filter-sep"></div>
        <!-- Core multiselects (row 1) -->
        <div class="filter-chip">
            <label>Division</label>
            <div class="mini-multiselect" id="divisionMultiselect">
                <button class="mini-trigger" id="divisionTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="divisionDropdown">
                    <input type="text" class="mini-search" placeholder="Search divisions...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="divisionOptions"></div>
                </div>
            </div>
        </div>
        <div class="filter-chip">
            <label>Dept</label>
            <div class="mini-multiselect" id="departmentMultiselect">
                <button class="mini-trigger" id="departmentTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="departmentDropdown">
                    <input type="text" class="mini-search" placeholder="Search departments...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="departmentOptions"></div>
                </div>
            </div>
        </div>
        <div class="filter-chip">
            <label>Doc Type</label>
            <div class="mini-multiselect" id="docTypeMultiselect">
                <button class="mini-trigger" id="docTypeTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="docTypeDropdown">
                    <input type="text" class="mini-search" placeholder="Search doc types...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="docTypeOptions"></div>
                </div>
            </div>
        </div>
        <div class="filter-actions-inline">
            <div class="filter-status" id="filterStatus">
                <span class="filter-spinner"></span>
            </div>
            <button class="action-btn" id="clearFiltersBtn" title="Clear filters (C)">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
                Clear
            </button>
        </div>
    </div>
    <!-- Dept Category chips row -->
    <div class="filter-row filter-row-secondary">
        <div class="filter-chip chip-row">
            <label>Dept Category</label>
            <div class="chip-toggles" id="deptCategoryChips"></div>
        </div>
    </div>
    <!-- Additional column filters row -->
    <div class="filter-row filter-row-secondary">
        <div class="filter-chip">
            <label>Status</label>
            <div class="mini-multiselect" id="jobStatusMultiselect">
                <button class="mini-trigger" id="jobStatusTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="jobStatusDropdown">
                    <input type="text" class="mini-search" placeholder="Search...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="jobStatusOptions"></div>
                </div>
            </div>
        </div>
        <div class="filter-chip">
            <label>Job Grp</label>
            <div class="mini-multiselect" id="jobGroupingMultiselect">
                <button class="mini-trigger" id="jobGroupingTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="jobGroupingDropdown">
                    <input type="text" class="mini-search" placeholder="Search job groupings...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="jobGroupingOptions"></div>
                </div>
            </div>
        </div>
        <div class="filter-chip">
            <label>Div #</label>
            <div class="mini-multiselect" id="divNumMultiselect">
                <button class="mini-trigger" id="divNumTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="divNumDropdown">
                    <input type="text" class="mini-search" placeholder="Search...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="divNumOptions"></div>
                </div>
            </div>
        </div>
        <div class="filter-chip">
            <label>Company</label>
            <div class="mini-multiselect" id="docCompanyMultiselect">
                <button class="mini-trigger" id="docCompanyTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="docCompanyDropdown">
                    <input type="text" class="mini-search" placeholder="Search...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="docCompanyOptions"></div>
                </div>
            </div>
        </div>
        <div class="filter-chip">
            <label>Batch</label>
            <div class="mini-multiselect" id="batchTypeMultiselect">
                <button class="mini-trigger" id="batchTypeTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="batchTypeDropdown">
                    <input type="text" class="mini-search" placeholder="Search...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="batchTypeOptions"></div>
                </div>
            </div>
        </div>
        <div class="filter-chip">
            <label>Cost Type</label>
            <div class="mini-multiselect" id="costTypeValMultiselect">
                <button class="mini-trigger" id="costTypeValTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="costTypeValDropdown">
                    <input type="text" class="mini-search" placeholder="Search cost types...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="costTypeValOptions"></div>
                </div>
            </div>
        </div>
        <div class="filter-chip">
            <label>Cost Code</label>
            <div class="mini-multiselect" id="costCodeMultiselect">
                <button class="mini-trigger" id="costCodeTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="costCodeDropdown">
                    <input type="text" class="mini-search" placeholder="Search cost codes...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="costCodeOptions"></div>
                </div>
            </div>
        </div>
        <div class="filter-chip">
            <label>Job #</label>
            <div class="mini-multiselect" id="jobNumMultiselect">
                <button class="mini-trigger" id="jobNumTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="jobNumDropdown">
                    <input type="text" class="mini-search" placeholder="Search jobs...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="jobNumOptions"></div>
                </div>
            </div>
        </div>
        <div class="filter-chip">
            <label>Desc</label>
            <div class="mini-multiselect" id="descMultiselect">
                <button class="mini-trigger" id="descTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="descDropdown">
                    <input type="text" class="mini-search" placeholder="Search descriptions...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="descOptions"></div>
                </div>
            </div>
        </div>
        <div class="filter-chip">
            <label>Unit #</label>
            <div class="mini-multiselect" id="unitNumMultiselect">
                <button class="mini-trigger" id="unitNumTrigger"><span>All</span><span class="caret"></span></button>
                <div class="mini-dropdown" id="unitNumDropdown">
                    <input type="text" class="mini-search" placeholder="Search units...">
                    <div class="mini-actions"><button data-action="all">Select All</button><button data-action="none">Clear</button></div>
                    <div class="mini-options" id="unitNumOptions"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="active-filters" id="activeFilters"></div>
</section>
